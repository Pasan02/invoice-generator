---
// InvoiceForm component - Handles all user inputs for invoice generation
---

<div class="invoice-form">
  <form id="invoiceForm" class="space-y-8">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- Sender Information Section -->
      <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in">
        <div class="flex items-center mb-6">
          <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
          </div>
          <h2 class="text-xl font-bold text-gray-800 dark:text-white">Sender Information</h2>
        </div>
        <div class="space-y-5">
          <div>
            <label for="sender-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name/Company*</label>
            <input type="text" id="sender-name" name="sender-name" required
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
          <div>
            <label for="sender-address" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Address</label>
            <textarea id="sender-address" name="sender-address" rows="3"
              class="form-textarea mt-1 block w-full py-3 px-4 transition-colors"></textarea>
          </div>
          <div>
            <label for="sender-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
            <input type="email" id="sender-email" name="sender-email"
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
          <div>
            <label for="sender-phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Phone</label>
            <input type="tel" id="sender-phone" name="sender-phone"
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
        </div>
      </div>

      <!-- Client Information Section -->
      <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.1s;">
        <div class="flex items-center mb-6">
          <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
          </div>
          <h2 class="text-xl font-bold text-gray-800 dark:text-white">Client Information</h2>
        </div>
        <div class="space-y-5">
          <div>
            <label for="client-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name/Company*</label>
            <input type="text" id="client-name" name="client-name" required
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
          <div>
            <label for="client-address" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Address</label>
            <textarea id="client-address" name="client-address" rows="3"
              class="form-textarea mt-1 block w-full py-3 px-4 transition-colors"></textarea>
          </div>
          <div>
            <label for="client-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label>
            <input type="email" id="client-email" name="client-email"
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
          <div>
            <label for="client-phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Phone</label>
            <input type="tel" id="client-phone" name="client-phone"
              class="form-input mt-1 block w-full py-3 px-4 transition-colors">
          </div>
        </div>
      </div>
    </div>

    <!-- Invoice Details Section -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.2s;">
      <div class="flex items-center mb-6">
        <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Invoice Details</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-5">
        <div>
          <label for="invoice-number" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Invoice Number</label>
          <input type="text" id="invoice-number" name="invoice-number"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors"
            placeholder="Auto-generated if blank">
        </div>
        <div>
          <label for="invoice-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Invoice Date*</label>
          <input type="date" id="invoice-date" name="invoice-date" required
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
        <div>
          <label for="due-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Due Date</label>
          <input type="date" id="due-date" name="due-date"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
        <div>
          <label for="currency" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Currency</label>
          <select id="currency" name="currency" 
            class="form-select mt-1 block w-full py-3 px-4 transition-colors">
            <option value="USD" selected>USD ($)</option>
            <option value="EUR">EUR (€)</option>
            <option value="GBP">GBP (£)</option>
            <option value="JPY">JPY (¥)</option>
            <option value="CAD">CAD ($)</option>
            <option value="AUD">AUD ($)</option>
            <option value="INR">INR (₹)</option>
            <option value="CNY">CNY (¥)</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Line Items Section -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.3s;">
      <div class="flex items-center mb-6">
        <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Line Items</h2>
      </div>
      <div class="overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700">
        <table class="modern-table responsive-table">
          <thead>
            <tr>
              <th scope="col">Description</th>
              <th scope="col">Quantity</th>
              <th scope="col">Unit Price</th>
              <th scope="col">Tax (%)</th>
              <th scope="col">Total</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id="line-items">
            <tr class="line-item">
              <td class="px-6 py-4">
                <input type="text" name="item-description[]" placeholder="Item description" required
                  class="form-input block w-full py-2 px-3 transition-colors">
              </td>
              <td class="px-6 py-4">
                <input type="number" name="item-quantity[]" min="1" value="1" required
                  class="item-quantity form-input block w-32 py-2 px-3 transition-colors">
              </td>
              <td class="px-6 py-4">
                <input type="number" name="item-price[]" min="0" step="0.01" required
                  class="item-price form-input block w-32 py-2 px-3 transition-colors">
              </td>
              <td class="px-6 py-4">
                <input type="number" name="item-tax[]" min="0" max="100" value="0" step="0.01"
                  class="item-tax form-input block w-20 py-2 px-3 transition-colors">
              </td>
              <td class="px-6 py-4 text-right">
                <span class="item-total font-medium dark:text-white">0.00</span>
              </td>
              <td class="px-6 py-4">
                <button type="button" class="text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors remove-item flex items-center" disabled>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                  </svg>
                  Remove
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="mt-6">
        <button type="button" id="add-item" class="btn-primary">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
          Add Line Item
        </button>
      </div>
    </div>

    <!-- Totals Section -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.4s;">
      <div class="flex justify-between items-center mb-4">
        <div class="flex items-center">
          <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h2 class="text-xl font-bold text-gray-800 dark:text-white">Invoice Summary</h2>
        </div>
      </div>
      <div class="flex flex-col items-end space-y-3">
        <div class="flex justify-between w-full md:w-1/3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <span class="text-gray-700 dark:text-gray-300 font-medium">Subtotal:</span>
          <span id="subtotal" class="font-semibold dark:text-white">0.00</span>
        </div>
        <div class="flex justify-between w-full md:w-1/3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <span class="text-gray-700 dark:text-gray-300 font-medium">Tax:</span>
          <span id="tax-total" class="font-semibold dark:text-white">0.00</span>
        </div>
        <div class="flex justify-between w-full md:w-1/3 p-4 bg-indigo-50 dark:bg-indigo-900/50 rounded-lg">
          <span class="text-indigo-800 dark:text-indigo-300 font-bold">Total:</span>
          <span id="invoice-total" class="text-indigo-800 dark:text-indigo-300 font-bold text-xl">0.00</span>
        </div>
      </div>
    </div>

    <!-- Notes/Terms Section -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.5s;">
      <div class="flex items-center mb-6">
        <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Notes & Terms</h2>
      </div>
      <div>
        <label for="notes" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Additional Notes</label>
        <textarea id="notes" name="notes" rows="3"
          class="form-textarea mt-1 block w-full py-3 px-4 transition-colors"
          placeholder="Payment terms, delivery information, etc."></textarea>
      </div>
    </div>

    <!-- Bank Account Details Section -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.55s;">
      <div class="flex items-center mb-6">
        <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Bank Account Details</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
        <div>
          <label for="bank-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Bank Name</label>
          <input type="text" id="bank-name" name="bank-name"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
        <div>
          <label for="account-holder" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Account Holder</label>
          <input type="text" id="account-holder" name="account-holder"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
        <div>
          <label for="account-number" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Account Number</label>
          <input type="text" id="account-number" name="account-number"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
        <div>
          <label for="routing-number" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Routing/SWIFT/IBAN</label>
          <input type="text" id="routing-number" name="routing-number"
            class="form-input mt-1 block w-full py-3 px-4 transition-colors">
        </div>
      </div>
    </div>

    <!-- Company Logo (Optional) -->
    <div class="card hover:shadow-xl transition-all duration-300 animate-fade-in" style="animation-delay: 0.6s;">
      <div class="flex items-center mb-6">
        <div class="bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full mr-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </div>
        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Company Logo</h2>
      </div>
      <div>
        <label for="logo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Upload Logo (Optional)</label>
        <input type="file" id="logo" name="logo" accept="image/*"
          class="mt-1 block w-full text-sm text-gray-500 dark:text-gray-400 
          file:mr-4 file:py-3 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold 
          file:bg-indigo-50 file:text-indigo-700 
          dark:file:bg-indigo-900/70 dark:file:text-indigo-300 
          hover:file:bg-indigo-100 dark:hover:file:bg-indigo-900 transition-colors">
        <div id="logo-preview" class="mt-4 flex items-center justify-center p-4 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"></div>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="card hover:shadow-xl transition-all duration-300 flex flex-col md:flex-row justify-between animate-fade-in" style="animation-delay: 0.7s;">
      <div class="mb-4 md:mb-0">
        <button type="button" id="reset-form" class="btn-secondary">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
          Clear Form
        </button>
      </div>
      <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3">
        <button type="button" id="preview-invoice" class="btn-secondary">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
          Preview
        </button>
        <button type="button" id="print-invoice" class="btn-secondary">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
          </svg>
          Print
        </button>
        <button type="button" id="download-pdf" class="btn-primary">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
          </svg>
          Generate PDF
        </button>
      </div>
    </div>
  </form>
</div>